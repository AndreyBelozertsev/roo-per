{% extends 'PortalContentBundle::base.html.twig' %}

{% block info_page %}
    <div class="info-page">
        <div class="info-page__posit">
            <div class="bread-crumbs">
                <ul>
                    <li><a href="{{ path('portal_content_homepage') }}">{{ 'Home'|trans }}</a></li>
                    <li>{{ 'Search'|trans }}</li>
                </ul>
            </div>
            <div class="title-page">{{ 'Search'|trans }}</div>
        </div>
    </div>
{% endblock %}

{% block content %}
    {% set queryStr = app.request.get('str') %}

    <div class="search">
        <div class="search__box">
            <input type="text" placeholder="{{ 'Search'|trans }}" class="search__pole" value="{{ queryStr }}">
            <input type="button" class="search__button search__icon search__icon_search">
        </div>
    </div>

    <div class="content content_catalog">
        {% if articleList is not empty %}
            {% for article in articleList %}
                <a href="{{ path('article_show', { 'id': article.id }) }}"  class="news__item">
                    <div class="news__img"><img src="{{ asset(article.preview_file_url|thumbImage) }}"></div>
                    <div class="news__topic">{{ 'Search'|trans }}</div>
                    <div class="news__title">{{ attribute(article, 'title_' ~ app.request.locale) }}</div>
                    <div class="news__info clearfix">
                        <div class="news__coment icons_message-blue">{{ article.comments }}</div>
                        <div class="news__date">
                            {{ article.created_at|date|localizeddate('full', 'none', app.request.locale, null, 'd MMMM yyyy') }}
                        </div>
                    </div>
                </a>
                <!--.news__item-->
            {% endfor %}
        {% else %}
            <h2>{{ 'No results'|trans }}</h2>
        {% endif %}
    </div>

    {% if hideButton == false %}
        <div class="button_posit-box get-more-search-results" data-page="{{ currentPage }}" data-str="{{ queryStr }}"
             data-url="{{ path('get_more_results') }}">
            <div class="button button_center">{{ 'Show more'|trans }}</div>
        </div>
    {% endif %}
    <div class="pagination clearfix">
        {{ pagination|raw }}
    </div>
{% endblock %}
