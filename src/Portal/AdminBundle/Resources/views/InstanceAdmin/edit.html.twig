{% extends 'PortalAdminBundle::adminBase.html.twig' %}

{% block title %}
    {{ parent() }} | 
    {% if add %}
        {{ 'instance_form.add'|trans }}
    {% else %}
        {{ 'instance_form.edit'|trans }}
    {% endif %}
    {{ 'instance_form.instances'|trans }}
{% endblock %}
{% block pageheader %}
    {% if add %}
        {{ 'instance_form.add'|trans }}
    {% else %}
        {{ 'instance_form.edit'|trans }}
    {% endif %}
    {{ 'instance_form.instances'|trans }}
{% endblock %}

{% block topbuttons %}
    <a class="btn btn-success back-to-list" href="{{ path('admin_admin_instance_viewall') }}"><i class="glyphicon glyphicon-repeat"></i>
        {{ 'come_back'|trans }}
    </a>
    {% if not add %}
        <a class="btn btn-warning" href="#" onclick="adminPage.instance.removeItem({{instanceId}})"><i class="glyphicon glyphicon-trash"></i>
            {{ 'delete'|trans }}
        </a>
    {% endif %}
{% endblock %}

{% block body %}
    <form name="form" method="post">
    {{ form_start(form) }}
        <div id="form-body" class="clearfix">
            {% if add %}
            <div class="form-group">
                <div class="col-sm-3">
                    {{ form_label(form.category) }}
                </div>
                <div class="col-sm-9">
                    {{ form_widget(form.category, {'attr':{'class':'form-control'} }) }}
                    <div class="errors">
                        {% for error in form.category.vars.errors %}
                            <div class="alert alert-danger">{{ error.message }}</div>
                        {% endfor %}
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            {% endif %}
            <div class="form-group">
                <div class="col-sm-3">
                    {{ form_label(form.parentInstance) }}
                </div>
                <div class="col-sm-9">
                    {{ form_widget(form.parentInstance, {'attr':{'class':'form-control'} }) }}
                    <div class="errors">
                        {% for error in form.parentInstance.vars.errors %}
                            <div class="alert alert-danger">{{ error.message }}</div>
                        {% endfor %}
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="form-group">
                <div class="col-sm-3">
                    {{ form_label(form.title) }}
                </div>
                <div class="col-sm-9">
                    {{ form_widget(form.title, {'attr':{'class':'form-control'} }) }}
                    <div class="errors">
                        {% for error in form.title.vars.errors %}
                            <div class="alert alert-danger">{{ error.message }}</div>
                        {% endfor %}
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            {% if add %}
            <div class="form-group">
                <div class="col-sm-3">
                    {{ form_label(form.code) }}
                </div>
                <div class="col-sm-9">
                    {{ form_widget(form.code, {'attr':{'class':'form-control'} }) }}
                    <div class="errors">
                        {% for error in form.code.vars.errors %}
                            <div class="alert alert-danger">{{ error.message }}</div>
                        {% endfor %}
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            {% endif %}
            <div class="form-group">
                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-12">
                </div>
                <div class="col-sm-9">
                    {{ form_widget(form.save, {'attr':{'class':'btn btn-success'} }) }}
                </div>
            </div>
        </div>
    {{ form_end(form) }}
    </form>
{% endblock %}


